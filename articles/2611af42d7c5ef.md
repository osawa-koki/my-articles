---
title: "Ruby on Railsã§GraphQLã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹"
emoji: "ğŸ“‘"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["rails", "ruby", "graphql"]
published: true
---

## ã¯ã˜ã‚ã«

ã“ã®è¨˜äº‹ã§ã¯ã€Ruby on Rails ã§ GraphQL ã‚µãƒ¼ãƒãƒ¼ã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã™ã€‚  

@[card](https://github.com/osawa-koki/rails-graphql)  

## å®Ÿè£…

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

ä»Šå›ã¯ API ãƒ¢ãƒ¼ãƒ‰ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚  
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚  

```bash
bundle exec rails new . --api
```

### 2. å¿…è¦ãªGemã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ä»¥ä¸‹ã® Gem ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚  

```Gemfile
gem 'graphql'
gem "propshaft"
```

`propshaft`ã¯ã‚·ãƒ³ãƒ—ãƒ«ã§é«˜é€Ÿãªã‚¢ã‚»ãƒƒãƒˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚  
API ãƒ¢ãƒ¼ãƒ‰ã§ GraphQL ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã«ä½¿ç”¨ã—ã¾ã™ã€‚  

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ Gem ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚  

```bash
bundle install
```

### 3. GraphQLã®è¨­å®š

GraphQL ã®è¨­å®šã‚’ã—ã¾ã™ã€‚  

```bash
bundle exec rails generate graphql:install
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€`./app/graphql`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚Œã¾ã™ã€‚  

### 4. GraphiQLã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

GraphiQL ã¯ GraphQL ã®ã‚¯ã‚¨ãƒªã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚  
é–‹ç™ºæ™‚ã«ä½¿ç”¨ã—ã¾ã™ã€‚  

ã¾ãšã¯ä»¥ä¸‹ã® Gem ã‚’è¿½åŠ ã—ã¾ã™ã€‚  

```Gemfile
group :development, :test do
  gem 'graphiql-rails'
end
```

Gem ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚  

```bash
bundle install
```

`./config/routes.rb`ã«ä»¥ä¸‹ã®è¡Œã‚’è¿½åŠ ã—ã¾ã™ã€‚  

```ruby
if Rails.env.development?
  mount GraphiQL::Rails::Engine, at: "/graphiql", graphql_path: "/graphql"
end
```

ã“ã‚Œã§ã€`http://localhost:3000/graphiql`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ GraphiQL ãŒèµ·å‹•ã—ã¾ã™ã€‚  
