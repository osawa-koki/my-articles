---
title: "MariaDBをVNetに接続する (Azure)"
emoji: "🔥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Azure", "MariaDB", "VNet"]
published: true
---

## はじめに

MariaDBとAzure Functionsを同一のVNetに接続しようとしたが、なぜかMariaDBをVNetに接続できなかったので、その原因と対処法をまとめます。  

## 結論

MariaDBのコンピューティングレベルがBasicの場合はVNetに接続できません。  

## 対処法

MariaDBのコンピューティングレベルを「汎用」に変更します。  
または、MariaDBのコンピューティングレベルを「メモリ最適化」に変更します。  

## コンピューティングレベルとは

MariaDBのコンピューティングレベルは、以下の3つがあります。  

- 基本 (1か2個の仮想コア): 低負荷なコンピューティングとI/Oパフォーマンスが必要なワークロードに最適
- 汎用 (2から64個の仮想コア): 最も一般的なワークロード用のバランスの取れた構成
- メモリ最適化 (2から32個の仮想コア): CPUに対するメモリの比率が高い環境を必要とするワークロードに最適

「基本」の場合は、VNetに接続できないようです。  
ちなみに、「基本」の場合は5千円程度かかるのに対して、「汎用」は月に1万円弱かかります。  
高いですね。  
