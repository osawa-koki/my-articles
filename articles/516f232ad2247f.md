---
title: "MariaDBをVNetに接続する (Azure)"
emoji: "🔥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Azure", "MariaDB", "VNet"]
published: true
---

## はじめに

MariaDB と Azure Functions を同一の VNet に接続しようとしたが、なぜか MariaDB を VNet に接続できなかったので、その原因と対処法をまとめます。  

## 結論

MariaDB のコンピューティングレベルが Basic の場合は VNet に接続できません。  

## 対処法

MariaDB のコンピューティングレベルを「汎用」に変更します。  
または、MariaDB のコンピューティングレベルを「メモリ最適化」に変更します。  

## コンピューティングレベルとは

MariaDB のコンピューティングレベルは、以下の 3 つがあります。  

- 基本 (1 か 2 個の仮想コア): 低負荷なコンピューティングと I/O パフォーマンスが必要なワークロードに最適
- 汎用 (2 から 64 個の仮想コア): 最も一般的なワークロード用のバランスの取れた構成
- メモリ最適化 (2 から 32 個の仮想コア): CPU に対するメモリの比率が高い環境を必要とするワークロードに最適

「基本」の場合は、VNet に接続できないようです。  
ちなみに、「基本」の場合は 5 千円程度かかるのに対して、「汎用」は月に 1 万円弱かかります。  
高いですね。  
